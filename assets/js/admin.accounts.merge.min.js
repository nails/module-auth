var NAILS_Admin_Accounts_Merge;NAILS_Admin_Accounts_Merge=function(){return this.__construct=function(){var e=this;$("#userId").select2({placeholder:"Search for a user",minimumInputLength:1,ajax:{url:window.SITE_URL+"api/admin/users/search",dataType:"json",quietMillis:250,data:function(e){return{term:e}},results:function(e){var r={results:[]},s="",t="";for(var u in e.users)e.users.hasOwnProperty(u)&&(s=e.users[u].id,t="#"+s+" - "+e.users[u].first_name+" "+e.users[u].last_name,r.results.push({text:t,id:s}));return r},cache:!0}}),$("#mergeIds").select2({placeholder:"Search for users",minimumInputLength:1,multiple:!0,ajax:{url:window.SITE_URL+"api/admin/users/search",dataType:"json",quietMillis:250,data:function(e){return{term:e}},results:function(e){var r={results:[]},s="",t="";for(var u in e.users)e.users.hasOwnProperty(u)&&(s=e.users[u].id,t="#"+s+" - "+e.users[u].first_name+" "+e.users[u].last_name,r.results.push({text:t,id:s}));return r},cache:!0}}),$("#theForm").on("submit",function(){return e.validate()})},this.validate=function(){var e,r=!1,s=[],t=parseInt($("#userId").val(),10),u=$("#mergeIds").val().split(","),n=[];for(e=0;e<u.length;e++)u[e]&&n.push(parseInt(u[e],10));for(isNaN(t)&&(r=!0,s.push("You must specify the user to keep.")),0===n.length&&(r=!0,s.push("You must specify at least one user to merge.")),e=0;e<n.length;e++)if(n[e]===t){r=!0,s.push("The user to merge into cannot be listed as a merge user.");break}for(e=0;e<n.length;e++)if(n[e]===window.NAILS.USER.ID){r=!0,s.push("You cannot specify yourself as a merge user.");break}if(r===!0){var a;a="<p>The following errors occurred:</p>",a+="<ul>";for(var i in s)s.hasOwnProperty(i)&&(a+="<li>&rsaquo; "+s[i]+"</li>");return a+="</ul>",$("<div>").html(a).dialog({title:"An error occurred",resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){$(this).dialog("close")}}}).show(),!1}return!0},this.__construct()};
//# sourceMappingURL=admin.accounts.merge.min.js.map
